<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Find a half-plane representation of a point cloud &mdash; pycapacity v2.0.0 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/my_theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Find a vertex representation of a set of half-planes" href="vert_from_hspace.html" />
    <link rel="prev" title="Opensim examples" href="opensim.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            pycapacity
          </a>
              <div class="version">
                2.0
              </div>
<div class="wy-side-nav-search"  style="margin-bottom: 0px;">
  <a href="https://github.com/auctus-team/pycapacity" class="icon icon-github" style="margin-bottom: 0px;"> View on Github</a>
</div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../README.html">ABOUT</a></li>
<li class="toctree-l1"><a class="reference internal" href="../install.html">üöÄ INSTALLATION</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pycapacity.html">üìÑ API DOCS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contirbuting.html">üìù CONTRIBUTING &amp; ISSUES</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">üéì TUTORIALS</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="randomised_rob.html"> Randomized robot model</a></li>
<li class="toctree-l2"><a class="reference internal" href="robotics_toolbox.html"> Robotics toolbox</a></li>
<li class="toctree-l2"><a class="reference internal" href="pinocchio.html"> Pinocchio</a></li>
<li class="toctree-l2"><a class="reference internal" href="fourlink.html"> Four link planar robot</a></li>
<li class="toctree-l2"><a class="reference internal" href="randomised_human.html"> Randomized human model</a></li>
<li class="toctree-l2"><a class="reference internal" href="pyomeca.html"> Pyomeca</a></li>
<li class="toctree-l2"><a class="reference internal" href="opensim.html"> Opensim</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#"> Find a half-plane representation of a point cloud</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#classify-points-in-or-out-the-polytope">Classify points in or out the polytope</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="vert_from_hspace.html"> Find a vertex representation of a set of half-planes</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">üìë CHANGELOG</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">pycapacity</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../README.html">About pycapacity</a></li>
          <li class="breadcrumb-item"><a href="index.html">Getting started coding examples</a></li>
      <li class="breadcrumb-item active">Find a half-plane representation of a point cloud</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/auctus-team/pycapacity/blob/master/docs/source/examples/hspace_from_vert.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="find-a-half-plane-representation-of-a-point-cloud">
<h1>Find a half-plane representation of a point cloud<a class="headerlink" href="#find-a-half-plane-representation-of-a-point-cloud" title="Permalink to this heading">ÔÉÅ</a></h1>
<p>A simple example program for find a half-plane representation of a set of vertices</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pycapacity.objects</span> <span class="kn">import</span> <span class="n">Polytope</span> <span class="c1"># import polytope object</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="n">N</span> <span class="o">=</span> <span class="mi">100</span> <span class="c1"># hundred vertices</span>
<span class="n">m</span> <span class="o">=</span> <span class="mi">3</span>   <span class="c1"># space dimension</span>

<span class="n">points</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="n">m</span><span class="p">,</span><span class="n">N</span><span class="p">))</span><span class="o">*</span><span class="mi">2</span><span class="o">-</span><span class="mi">1</span> <span class="c1"># points</span>

<span class="c1"># create a polytope object</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">Polytope</span><span class="p">()</span>
<span class="c1"># find the half-plane representation and vertezx representation</span>
<span class="c1"># finding the convex hull of the points</span>
<span class="n">p</span><span class="o">.</span><span class="n">find_from_point_cloud</span><span class="p">(</span><span class="n">points</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;A: </span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span><span class="n">p</span><span class="o">.</span><span class="n">H</span><span class="p">,</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">b: </span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span><span class="n">p</span><span class="o">.</span><span class="n">d</span><span class="p">)</span>

<span class="c1"># check if zero is inside the polytope</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Zero is inside: &#39;</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">all</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">H</span><span class="nd">@np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">m</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="n">p</span><span class="o">.</span><span class="n">d</span><span class="p">))</span>
</pre></div>
</div>
<p>The output of this code is something similar to this:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>A:
<span class="o">[[</span><span class="w"> </span><span class="m">4</span>.28104029e-01<span class="w"> </span>-8.31204261e-01<span class="w"> </span>-3.54720195e-01<span class="o">]</span>
.....
<span class="o">[</span>-9.68921041e-01<span class="w"> </span>-2.31204575e-01<span class="w">  </span><span class="m">8</span>.79571563e-02<span class="o">]]</span>
b:
<span class="o">[</span><span class="m">1</span>.10637503<span class="w"> </span><span class="m">0</span>.98370877<span class="w"> </span><span class="m">0</span>.97940547<span class="w"> </span><span class="m">0</span>.99545632<span class="w"> </span><span class="m">0</span>.99011297<span class="w"> </span><span class="m">0</span>.93456775
....
<span class="m">0</span>.90698497<span class="w"> </span><span class="m">0</span>.90077881<span class="w"> </span><span class="m">1</span>.04799771<span class="w"> </span><span class="m">0</span>.96400478<span class="o">]</span>
Zero<span class="w"> </span>is<span class="w"> </span>inside:<span class="w"> </span>True
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># plotting the polytope</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">pycapacity.visual</span> <span class="kn">import</span> <span class="o">*</span> <span class="c1"># pycapacity visualisation tools</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>

<span class="c1"># draw faces and vertices</span>
<span class="n">plot_polytope</span><span class="p">(</span><span class="n">plot</span><span class="o">=</span><span class="n">plt</span><span class="p">,</span> <span class="n">polytope</span><span class="o">=</span><span class="n">p</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;polytope&#39;</span><span class="p">,</span> <span class="n">edge_color</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">,</span> <span class="n">vertex_color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.2</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">points</span><span class="p">[</span><span class="mi">0</span><span class="p">,:],</span><span class="n">points</span><span class="p">[</span><span class="mi">1</span><span class="p">,:],</span><span class="n">points</span><span class="p">[</span><span class="mi">2</span><span class="p">,:],</span><span class="s1">&#39;ko&#39;</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="s1">&#39;inital points&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>The output of this program will be an image of visualised all the inital points in black, the real vertices (convex hull) in red as well as the found faces described by the inequalities <span class="math notranslate nohighlight">\(√Äx\leq b\)</span></p>
<img alt="../_images/v2h.png" src="../_images/v2h.png" />
<section id="classify-points-in-or-out-the-polytope">
<h2>Classify points in or out the polytope<a class="headerlink" href="#classify-points-in-or-out-the-polytope" title="Permalink to this heading">ÔÉÅ</a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># generate points to classify</span>
<span class="n">points_to_classify</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="n">m</span><span class="p">,</span><span class="n">N</span><span class="p">))</span><span class="o">*</span><span class="mi">2</span><span class="o">-</span><span class="mi">1</span> <span class="c1"># points</span>

<span class="c1"># classify the points</span>
<span class="n">points_in</span><span class="p">,</span> <span class="n">points_out</span> <span class="o">=</span> <span class="p">[],</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">point</span> <span class="ow">in</span> <span class="n">points_to_classify</span><span class="o">.</span><span class="n">T</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">np</span><span class="o">.</span><span class="n">all</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">H</span><span class="nd">@point</span> <span class="o">&lt;=</span> <span class="n">p</span><span class="o">.</span><span class="n">d</span><span class="p">):</span>
        <span class="n">points_in</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">point</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">points_out</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">point</span><span class="p">)</span>
<span class="n">points_in</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">points_in</span><span class="p">)</span><span class="o">.</span><span class="n">T</span>
<span class="n">points_out</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">points_out</span><span class="p">)</span><span class="o">.</span><span class="n">T</span>

<span class="c1"># plotting the polytope and the points</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>

<span class="c1"># draw faces and vertices</span>
<span class="n">plot_polytope</span><span class="p">(</span><span class="n">plot</span><span class="o">=</span><span class="n">plt</span><span class="p">,</span> <span class="n">polytope</span><span class="o">=</span><span class="n">p</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;polytope&#39;</span><span class="p">,</span> <span class="n">edge_color</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">,</span> <span class="n">show_vertices</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.2</span><span class="p">)</span>
<span class="c1"># points out in red</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">points_out</span><span class="p">[</span><span class="mi">0</span><span class="p">,:],</span><span class="n">points_out</span><span class="p">[</span><span class="mi">1</span><span class="p">,:],</span><span class="n">points_out</span><span class="p">[</span><span class="mi">2</span><span class="p">,:],</span><span class="s1">&#39;ro&#39;</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="s1">&#39;points out&#39;</span><span class="p">)</span>
<span class="c1"># point in in green</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">points_in</span><span class="p">[</span><span class="mi">0</span><span class="p">,:],</span><span class="n">points_in</span><span class="p">[</span><span class="mi">1</span><span class="p">,:],</span><span class="n">points_in</span><span class="p">[</span><span class="mi">2</span><span class="p">,:],</span><span class="s1">&#39;go&#39;</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="s1">&#39;points in&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>The output of this program will be an image of visualised classified points in or out of the polytope</p>
<img alt="../_images/v2h_in_out.png" src="../_images/v2h_in_out.png" />
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="opensim.html" class="btn btn-neutral float-left" title="Opensim examples" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="vert_from_hspace.html" class="btn btn-neutral float-right" title="Find a vertex representation of a set of half-planes" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Antun Skuric.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
       <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-M9K0ZYS45T"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-M9K0ZYS45T');
</script>


</body>
</html>